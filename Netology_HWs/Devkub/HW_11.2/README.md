# devops-netology
### performed by Kirill Karagodin
#### HW 11.2 Микросервисы: принципы.

#### Задача 1: API Gateway

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных 
программных решений. На основе таблицы сделайте выбор решения.
Решение должно соответствовать следующим требованиям:
- Маршрутизация запросов к нужному сервису на основе конфигурации 
- Возможность проверки аутентификационной информации в запросах 
- Обеспечение терминации HTTPS

Обоснуйте свой выбор.

- Облачные решения:
  - Amazon API Gateway 
  - Oracle API Gateway 
  - Google API Gateway
- Локальные
  - Tyk 
  - KrakenD 
  - Nginx

На мой взгляд более удачным будет решение реализации API Gateway с помощью Nginx, т.к. это популярный продукт с большим 
сообществом. Основываясь на данных из этой [статьи](https://goo-gl.me/chFMG), подойдёт схема **Microgateway** созданная
на базе Nginx.

#### Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.
Решение должно соответствовать следующим требованиям:
- Поддержка кластеризации для обеспечения надежности 
- Хранение сообщений на диске в процессе доставки 
- Высокая скорость работы 
- Поддержка различных форматов сообщений 
- Разделение прав доступа к различным потокам сообщений 
- Простота эксплуатации

Обоснуйте свой выбор.

Задача \ Брокер | Kafka | Redis | RabbitMQ | ActiveMQ
--- | --- | --- | --- | ---
Поддержка кластеризации для обеспечения надежности | + | + | + | + |
Хранение сообщений на диске в процессе доставки | + | - | + | + |
Высокая скорость работы | + | + | + | - |
Поддержка различных форматов сообщений | + | + | + | - |
Разделение прав доступа к различным потокам сообщений | + | + | + | + |
Простота эксплуатации | + | + | + | + |

RabbitMQ и Kafka оба удовлетворяет всем предъявляемым требованиям. Выбор конечного решения будет зависеть от задач
сервиса. RabbitMQ использует push модель, а Kafka pull. Kafka позволяет намного проще выполнять масштабирование и 
поддержание порядка сообщений, при этом RabbitMQ позволяет подписчикам упорядочивать произвольные группы событий, 
что бы они не конкурировали за получение сообщений. Исходя из этих различий, которые могут быть критичными для 
реализуемого сервиса следует остановить выбор на Kafka или RabbitMQ.